<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Crafty - JavaScript Game Engine</title>
<link type="text/css" rel="stylesheet" href="../global.css"/>
<link href='http://fonts.googleapis.com/css?family=Arvo:regular,bold' rel='stylesheet' type='text/css'>
<link rel="shortcut icon" href="favicon.ico"> 
</head>
<body>
<div id="header">
	<div id="inner">
	<a href="./"><img id="logo" src="../images/logo.png" alt="Crafty - JavaScript Game Engine" /></a>
	<ul>
		<li><a href="../api/">Documentation</a></li>
		<li><a href="../tutorials.php">Tutorial</a></li>
		<li><a href="../demos.php">Demos</a></li>
		<!-- <li><a href="#comingsoon">Builder<sup>new</sup></a></li> -->
		<li><a href="../forums/">Forums</a></li>
		<li><a href="http://craftyjs.tumblr.com/">Blog</a></li>
		<!-- <li><a href="api">FAQ</a></li>-->
		<li class="emph"><a href="../download.php">Download</a></li>
	</ul>
	</div>
</div>
<div id="main">
<div id="main-left"></div>
<div id="main-right"></div>
<div id="content"><div id='doc-nav'><ul id='doc-level-one'><li>Core<ul><li><a href='Crafty.html'>Crafty</a></li><li><a href='Crafty-Core.html'>Crafty Core</a></li><li><a href='Crafty-extend.html'>Crafty.extend</a></li><li><a href='Crafty-init.html'>Crafty.init</a></li><li><a href='Crafty-stop.html'>Crafty.stop</a></li><li><a href='Crafty-e.html'>Crafty.e</a></li><li><a href='Crafty-c.html'>Crafty.c</a></li><li><a href='Crafty-trigger.html'>Crafty.trigger</a></li><li><a href='Crafty-bind.html'>Crafty.bind</a></li><li><a href='Crafty-unbind.html'>Crafty.unbind</a></li><li><a href='Crafty-frame.html'>Crafty.frame</a></li><li><a href='Crafty-settings.html'>Crafty.settings</a></li><li><a href='Crafty-support.html'>Crafty.support</a></li></ul></li><li>Events<ul><li><a href='Crafty-trigger.html'>Crafty.trigger</a></li><li><a href='Crafty-bind.html'>Crafty.bind</a></li><li><a href='Crafty-unbind.html'>Crafty.unbind</a></li><li><a href='Crafty-addEvent.html'>Crafty.addEvent</a></li><li><a href='Crafty-removeEvent.html'>Crafty.removeEvent</a></li></ul></li><li>2D<ul><li><a href='Crafty-Polygon.html'>Crafty.Polygon</a></li><li><a href='Collision.html'>Collision</a></li><li><a href='Crafty-isometric.html'>Crafty.isometric</a></li></ul></li><li>Graphics<ul><li><a href='DOM.html'>DOM</a></li><li><a href='Crafty-DOM.html'>Crafty.DOM</a></li><li><a href='Crafty-sprite.html'>Crafty.sprite</a></li><li><a href='Sprite.html'>Sprite</a></li><li><a href='Crafty-background.html'>Crafty.background</a></li><li><a href='Canvas.html'>Canvas</a></li><li><a href='Crafty-canvas.html'>Crafty.canvas</a></li><li><a href='Color.html'>Color</a></li><li><a href='Tint.html'>Tint</a></li><li><a href='Image.html'>Image</a></li><li><a href='Text.html'>Text</a></li></ul></li><li>Misc<ul><li><a href='Crafty-randRange.html'>Crafty.randRange</a></li><li><a href='Crafty-addEvent.html'>Crafty.addEvent</a></li><li><a href='Crafty-removeEvent.html'>Crafty.removeEvent</a></li><li><a href='Crafty-support.html'>Crafty.support</a></li></ul></li><li>Stage<ul><li><a href='Crafty-background.html'>Crafty.background</a></li><li><a href='Crafty-viewport.html'>Crafty.viewport</a></li><li><a href='Crafty-scene.html'>Crafty.scene</a></li></ul></li><li>Input<ul><li><a href='Crafty-keys.html'>Crafty.keys</a></li><li><a href='Mouse.html'>Mouse</a></li><li><a href='Draggable.html'>Draggable</a></li><li><a href='Keyboard.html'>Keyboard</a></li><li><a href='Fourway.html'>Fourway</a></li><li><a href='Twoway.html'>Twoway</a></li></ul></li><li>Animation<ul><li><a href='SpriteAnimation.html'>SpriteAnimation</a></li><li><a href='Tween.html'>Tween</a></li></ul></li><li>Scenes<ul><li><a href='Crafty-scene.html'>Crafty.scene</a></li></ul></li><li>Audio<ul><li><a href='Crafty-audio.html'>Crafty.audio</a></li></ul></li><li>Assets<ul><li><a href='Crafty-assets.html'>Crafty.assets</a></li><li><a href='Crafty-loader.html'>Crafty.loader</a></li></ul></li></ul></div><div id='doc-content'><h1>Collision</h1>

<p>Component to detect collision between any two convex polygons.</p>
<div class='doc-contents'><ul><li><a href='#-collision'>.collision</a></li><li><a href='#-hit'>.hit</a></li><li><a href='#-onHit'>.onHit</a></li></ul></div><div class='doc-block' id='-collision'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>.collision</h2>

<p><code>public this .collision([Crafty.Polygon polygon])</code></p>

<dl>
<dt>polygon</dt>
<dd>Crafty.Polygon object that will act as the hit area</dd>
</dl>

<p>Constructor takes a polygon to use as the hit area. If left empty, 
will create a rectangle polygon based on the x, y, w, h dimensions.</p>

<p>This must be called before any .hit() or .onhit() methods.</p>

<p>The hit area (polygon) must be a convex shape and not concave 
for the collision detection to work.</p>

<h3>Example</h3>

<pre><code>this.collision(
    new Crafty.polygon([50,0], [100,100], [0,100])
);
</code></pre>

<h3>See Also</h3>

<ul>
<li><a href="Crafty-Polygon.html">Crafty.Polygon</a></li>
</ul>
</div><div class='doc-block' id='-hit'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>.hit</h2>

<p><code>public Boolean/Array hit(String component)</code></p>

<dl>
<dt>component</dt>
<dd>Check collision with entities that has this component</dd>
</dl>

<h3>Returns</h3>

<p><code>false</code> if no collision. If a collision is detected, returns an Array of objects that are colliding.</p>

<p>Takes an argument for a component to test collision for. If a collision is found, an array of 
every object in collision along with the amount of overlap is passed.</p>

<p>If no collision, will return false. The return collision data will be an Array of Objects with the 
type of collision used, the object collided and if the type used was SAT (a polygon was used as the hitbox) then an amount of overlap.</p>

<pre><code>[{
   obj: [entity],
   type "MBR" or "SAT",
   overlap: [number]
}]
</code></pre>

<p><code>MBR</code> is your standard axis aligned rectangle intersection (<code>.intersect</code> in the 2D component). 
<code>SAT</code> is collision between any convex polygon.</p>

<h3>See Also</h3>

<ul>
<li><a href="#-onHit">.onHit</a></li>
<li><a href="2D.html">2D</a></li>
</ul>
</div><div class='doc-block' id='-onHit'><a href='#doc-nav' class='doc-top'>Back to top</a><h2>.onHit</h2>

<p><code>public this .onHit(String component, Function hit[, Function noHit])</code></p>

<dl>
<dt>component</dt>
<dd>Component to check collisions for</dd>

<dt>hit</dt>
<dd>Callback method to execute when collided with component</dd>

<dt>noHit</dt>
<dd>Callback method executed once as soon as collision stops</dd>
</dl>

<p>Creates an enterframe event calling .hit() each time and if collision detected will invoke the callback.</p>

<h3>See Also</h3>

<ul>
<li><a href="#-hit">.hit</a></li>
</ul>
</div></div></div>
</div>

<div class="clearer"></div>
<div id="footer">

<div id="contact">
	<a href="http://twitter.com/craftyjs"><img src="../images/twitter.png"/> @craftyjs</a>
	<a href="http://webchat.freenode.net"><img src="../images/comment.png"/> #crafty@freenode.net</a>
	<a href="http://groups.google.com/group/craftyjs"><img src="../images/google.png"/> google groups</a>
	<a href="mailto:hello@craftyjs.com"><img src="../images/email.png"/> hello@craftyjs.com</a>
	<a href="https://github.com/louisstow/Crafty"><img src="../images/github.png"/> github</a>
</div>

<ul>
	<li><a href="../api/">Documentation</a></li>
	<li><a href="../tutorials.php">Tutorial</a></li>
	<li><a href="../demos.php">Demos</a></li>
	<!-- <li><a href="#comingsoon">Builder<sup>new</sup></a></li> -->
	<li><a href="../forums/">Forums</a></li>
	<li><a href="http://craftyjs.tumblr.com/">Blog</a></li>
	<!-- <li><a href="api">FAQ</a></li>-->
	<li class="emph"><a href="../download.php">Download</a></li>
</ul>
<p>&copy; Crafty 2010. Crafty is distributed under the <a href="http://en.wikipedia.org/wiki/MIT_License">MIT</a> or 
<a href="http://en.wikipedia.org/wiki/GNU_General_Public_License">GPL</a> license.</p>
</div>
</body>
</html>